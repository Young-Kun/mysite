{% load static %}
<link href="{% static 'css/header.css' %}" rel="stylesheet">

<nav class="navbar navbar-expand-lg navbar-light bg-white h-100 p-0">
    <div id="sidebar-toggle">
        <i class="fa fa-outdent fa-fw"></i>
    </div>
    <button class="navbar-toggler ml-3 mr-auto" type="button" data-toggle="collapse" data-target="#navbarHeader">
        <span class="navbar-toggler-icon"></span>
    </button>
    {# 左边的菜单 #}
    <div class="collapse navbar-collapse bg-white px-3" id="navbarHeader">
        <ul class="navbar-nav mr-3">
            <li class="nav-item">
                <a class="nav-link" href="#">链接1</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">链接2</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" data-toggle="dropdown">
                    下拉菜单
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">Something else here</a>
                </div>
            </li>
        </ul>
        <form class="form-inline">
            <input class="form-control mr-2" type="search" placeholder="Search"/>
        </form>
    </div>
    {# 右边的菜单 #}
    <div class="bg-white px-3">
        <ul class="navbar-nav ml-auto flex-row flex-nowrap">
            {% if user.is_authenticated %}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" data-toggle="dropdown">
                        {{ user.username }}
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="{% url 'user:profile' %}">个人资料</a>
                        <a class="dropdown-item" href="{% url 'user:logout' %}?next={{ request.path }}">退出</a>
                    </div>
                </li>
            {% else %}
                <li class="nav-item">
                    <a class="nav-link {{ register_button_disabled }}"
                       href="{% url 'user:register' %}?next={{ request.path }}">
                        <span>注册</span>
                    </a>
                </li>
                <li class="nav-item">
                    <span class="navbar-text">|</span>
                </li>
                <li class="nav-item">
                    <a class="nav-link {{ login_button_disabled }}"
                       href="{% url 'user:login' %}?next={{ request.path }}">
                        <span>登录</span>
                    </a>
                </li>
            {% endif %}
        </ul>
    </div>
</nav>